# ==============================================================================
# Service Desk - Environment Variables Example
# ==============================================================================
# 
# IMPORTANT: 
# - Never commit this file with real values!
# - Copy this file to .env and fill with your actual values
# - Use strong, unique passwords and secrets in production
#
# Quick Start:
#   cp .env.example .env
#   # Edit .env with your values
# ==============================================================================

# ==============================================================================
# MONGODB CONFIGURATION
# ==============================================================================

# MongoDB root credentials
MONGO_ROOT_USERNAME=admin
MONGO_ROOT_PASSWORD=change-this-to-a-very-strong-password-min-16-chars

# Database name
MONGO_DATABASE=servicedesk

# MongoDB connection URI (for backend)
# Format: mongodb://username:password@host:port/database?authSource=admin
# Development: mongodb://admin:password@mongodb:27017/servicedesk?authSource=admin
# Production: Use your MongoDB Atlas or hosted MongoDB URI
MONGODB_URI=mongodb://admin:change-this-to-a-very-strong-password-min-16-chars@mongodb:27017/servicedesk?authSource=admin

# ==============================================================================
# JWT AUTHENTICATION
# ==============================================================================

# JWT Secret for access tokens (minimum 32 characters)
# Generate with: openssl rand -base64 32
JWT_SECRET=change-this-to-a-very-strong-secret-key-at-least-32-characters-long-use-openssl-rand-base64-32

# JWT Secret for refresh tokens (must be different from JWT_SECRET)
# Generate with: openssl rand -base64 32
JWT_REFRESH_SECRET=change-this-to-another-very-strong-secret-key-different-from-jwt-secret-openssl-rand-base64-32

# Token expiration times
JWT_EXPIRE=15m              # Access token: 15 minutes
JWT_REFRESH_EXPIRE=7d       # Refresh token: 7 days

# ==============================================================================
# APPLICATION URLS
# ==============================================================================

# Frontend URL (used for CORS, emails, etc.)
# Development: http://localhost:3000
# Production: https://yourdomain.com
FRONTEND_URL=http://localhost:3000

# Backend URL (used by frontend)
# Development: http://localhost:5000
# Production: https://api.yourdomain.com
BACKEND_URL=http://localhost:5000

# ==============================================================================
# SERVER CONFIGURATION
# ==============================================================================

# Node environment
NODE_ENV=development        # Options: development, production, test

# Backend port
PORT=5000

# Frontend port (only for development)
FRONTEND_PORT=3000

# ==============================================================================
# EMAIL CONFIGURATION (Nodemailer)
# ==============================================================================

# SMTP Configuration
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false          # true for 465, false for other ports
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-specific-password  # Use App Password for Gmail

# Email defaults
EMAIL_FROM=Service Desk <noreply@servicedesk.com>

# ==============================================================================
# FILE UPLOAD CONFIGURATION
# ==============================================================================

# Maximum file size (in MB)
MAX_FILE_SIZE=10

# Allowed file types (comma-separated)
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,video/mp4,video/quicktime

# Upload directory (relative to backend root)
UPLOAD_DIR=uploads

# ==============================================================================
# AI IMAGE ANALYSIS (Pollinations.ai)
# ==============================================================================

# Pollinations.ai API URL
AI_API_URL=https://image.pollinations.ai/prompt

# Enable/disable AI analysis
AI_ENABLED=true

# ==============================================================================
# RATE LIMITING
# ==============================================================================

# Rate limit window (in minutes)
RATE_LIMIT_WINDOW=15

# Maximum requests per window
RATE_LIMIT_MAX_REQUESTS=100

# ==============================================================================
# CORS CONFIGURATION
# ==============================================================================

# Allowed origins (comma-separated)
# Development: http://localhost:3000
# Production: https://yourdomain.com,https://www.yourdomain.com
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# ==============================================================================
# SECURITY
# ==============================================================================

# Enable HTTPS redirect (production only)
HTTPS_REDIRECT=false

# Content Security Policy
CSP_ENABLED=true

# Helmet security headers
HELMET_ENABLED=true

# ==============================================================================
# LOGGING
# ==============================================================================

# Log level
# Options: error, warn, info, http, verbose, debug, silly
LOG_LEVEL=info

# Log to file
LOG_TO_FILE=false

# Log directory
LOG_DIR=logs

# ==============================================================================
# SOCKET.IO CONFIGURATION
# ==============================================================================

# Socket.io path
SOCKET_PATH=/socket.io

# Socket.io origins (same as CORS_ORIGINS)
SOCKET_ORIGINS=http://localhost:3000,http://localhost:3001

# ==============================================================================
# DATABASE SEEDING (Development only)
# ==============================================================================

# Auto-seed database on startup (development only)
AUTO_SEED=false

# ==============================================================================
# FRONTEND ENVIRONMENT VARIABLES
# ==============================================================================
# These should be in frontend/.env.example, but listed here for reference

# React App API URL
# REACT_APP_API_URL=http://localhost:5000/api

# React App Socket URL
# REACT_APP_SOCKET_URL=http://localhost:5000

# React App Environment
# REACT_APP_ENV=development

# Google Maps API Key (optional)
# REACT_APP_GOOGLE_MAPS_KEY=your-google-maps-api-key

# ==============================================================================
# DOCKER CONFIGURATION
# ==============================================================================

# MongoDB Docker image version
MONGO_VERSION=7.0

# Node Docker image version
NODE_VERSION=20-alpine

# ==============================================================================
# PRODUCTION ADDITIONAL SETTINGS
# ==============================================================================

# SSL Certificate paths (for production with HTTPS)
# SSL_CERT_PATH=/etc/letsencrypt/live/yourdomain.com/fullchain.pem
# SSL_KEY_PATH=/etc/letsencrypt/live/yourdomain.com/privkey.pem

# Domain name (for SSL certificate)
# DOMAIN_NAME=yourdomain.com

# Backup configuration
# BACKUP_ENABLED=true
# BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
# BACKUP_DIR=/backups

# ==============================================================================
# TESTING (Jest)
# ==============================================================================

# Test database URI (used by Jest)
# TEST_MONGODB_URI=mongodb://localhost:27017/servicedesk_test

# ==============================================================================
# OPTIONAL INTEGRATIONS
# ==============================================================================

# Sentry (Error tracking)
# SENTRY_DSN=your-sentry-dsn

# Google Analytics
# GA_TRACKING_ID=UA-XXXXXXXXX-X

# Slack Webhook (for notifications)
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# ==============================================================================
# END OF CONFIGURATION
# ==============================================================================

# Notes:
# 1. Generate strong secrets with: openssl rand -base64 32
# 2. Never share this file with real values
# 3. Use different secrets for development and production
# 4. Rotate secrets regularly in production
# 5. Use environment-specific files: .env.development, .env.production
# 6. For Docker, these variables are read by docker-compose.yml
